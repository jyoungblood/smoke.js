var smoketimeout;var smoke={pageload:function(){window.addEventListener('load',function(){smoke.bodyload()},false)},bodyload:function(){var ff=document.createElement('div');ff.setAttribute('id','smoke-out');ff.setAttribute('class','smoke-base');document.body.appendChild(ff)},build:function(e,f){var prompt='';if(f.type=='prompt'){prompt='<div class="dialog-prompt">'+'<input id="dialog-input" type="text" />'+'</div>'}var buttons='';if(f.type!='signal'){buttons='<div class="dialog-buttons">';if(f.type=='alert'){buttons+='<button id="alert-ok">OK</button>'}if(f.type=='prompt'||f.type=='confirm'){buttons+='<button id="'+f.type+'-cancel" class="cancel">Cancel</button>'+'<button id="'+f.type+'-ok">OK</button>'}buttons+='</div>'}var box='<div id="smoke-bg"></div>'+'<div class="dialog smoke">'+'<div class="dialog-inner">'+e+prompt+buttons+'</div>'+'</div>';var ff=document.getElementById('smoke-out');ff.innerHTML=box;ff.className='smoke-base smoke-visible';if(smoketimeout){clearTimeout(smoketimeout)}var g=document.getElementById('smoke-bg');g.addEventListener("click",smoke.destroy,false);var destroy=function(){smoke.destroy(f.type)};if(f.type=='alert'){var h=document.getElementById('alert-ok');h.addEventListener("click",destroy,false)}if(f.type=='confirm'){var h=document.getElementById('confirm-cancel');h.addEventListener("click",function(){smoke.destroy(f.type);f.callback(false)},false);var i=document.getElementById('confirm-ok');i.addEventListener("click",function(){smoke.destroy(f.type);f.callback(true)},false)}if(f.type=='prompt'){var h=document.getElementById('prompt-cancel');h.addEventListener("click",function(){smoke.destroy(f.type);f.callback(false)},false);var j=document.getElementById('dialog-input');var i=document.getElementById('prompt-ok');i.addEventListener("click",function(){smoke.destroy(f.type);f.callback(j.value)},false)}if(f.type=='signal'){smoketimeout=setTimeout(destroy,f.timeout)}},destroy:function(type){var box=document.getElementById('smoke-out');box.setAttribute('class','smoke-base');if(g=document.getElementById(type+'-ok')){g.removeEventListener("click",function(){},false)}if(h=document.getElementById(type+'-cancel')){h.removeEventListener("click",function(){},false)}},alert:function(e){smoke.build(e,{type:'alert'})},signal:function(e,f){if(typeof(f)=='undefined'){f=5000}smoke.build(e,{type:'signal',timeout:f})},confirm:function(e,f){smoke.build(e,{type:'confirm',callback:f})},prompt:function(e,f){return smoke.build(e,{type:'prompt',callback:f})}};smoke.pageload();